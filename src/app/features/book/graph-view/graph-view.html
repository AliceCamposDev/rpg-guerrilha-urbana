<div class="graph-container">
    <div class="graph-controls">
        <div class="stats" *ngIf="graphData">
            <span class="stat-badge"> ğŸ“ {{ graphData.stats.total_notes }} notas </span>
            <span class="stat-badge">
                ğŸ”— {{ graphData.stats.total_links }} conexÃµes
            </span>
        </div>
        <div class="controls">
            <button class="btn-control" (click)="fitGraph()" title="Centralizar">ğŸ¯</button>
            <button class="btn-control" (click)="resetGraph()" title="Redefinir">ğŸ”„</button>
        </div>
    </div>


    <div class="error-alert" *ngIf="error && !loading">
        <div class="alert-content">
            <span>âŒ {{ error }}</span>
            <button class="btn-retry" (click)="loadGraph()">Tentar novamente</button>
        </div>
    </div>

    <div #graphContainer id="cytoscape-graph" class="graph-area"></div>

    <div class="graph-legend">
        <div class="legend-item">
            <div class="legend-color" style="background-color: #93c5fd"></div>
            <span>Poucas conexÃµes</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background-color: #3b82f6"></div>
            <span>MÃ©dias conexÃµes</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background-color: #1e40af"></div>
            <span>Muitas conexÃµes</span>
        </div>
        <div class="legend-hint">
            ğŸ–±ï¸ Clique em um nÃ³ para ver detalhes â€¢ Arraste para navegar â€¢ ğŸ” Roda do mouse para zoom
        </div>
    </div>
</div>